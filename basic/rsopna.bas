1000 CONSOLE ,,0
1010 OPEN "COM:N81" AS #1
1020 AD0=&HA8:DT0=&HA9
1030 AD1=&HAC:DT1=&HAD
1040 INPUT #1,C
1050 IF C=1 THEN GOSUB *OPW1
1060 IF C=2 THEN GOSUB *OPR1
1070 IF C=3 THEN GOSUB *OPS1
1080 IF C=4 THEN PRINT #1,""
1090 IF C=5 THEN GOSUB *PAUSE
1100 IF C=6 THEN GOSUB *OPW0
1110 IF C=7 THEN GOSUB *OPR0
1120 IF C=8 THEN GOSUB *OPS0
1130 IF C=10 THEN GOSUB *WRM
1140 IF C=11 THEN GOSUB *RDM
1150 IF C=99 THEN GOTO 1180
1160 PRINT #1,"@";
1170 GOTO 1040
1180 END
1190 '
1200 *OPW1
1210 INPUT #1,A$,D$
1220 A=VAL("&H"+A$):D=VAL("&H"+D$)
1230 OUT AD1,A:OUT DT1,D
1240 PRINT #1,"O"+RIGHT$("0"+HEX$(A),2)+":"+RIGHT$("0"+HEX$(D),2)+" ";
1250 RETURN
1260 '
1270 *OPR1
1280 INPUT #1,A$
1290 A=VAL("&H"+A$)
1300 OUT AD1,A:D=INP(DT1)
1310 PRINT #1,"I"+RIGHT$("0"+HEX$(A),2)+":"+RIGHT$("0"+HEX$(D),2)+" ";
1320 RETURN
1330 '
1340 *OPS1
1350 S=INP(AD1)
1360 PRINT #1,"S"+RIGHT$("0"+HEX$(S),2)+"    ";
1370 RETURN
1380 '
1390 *PAUSE
1400 INPUT #1,M$
1410 PRINT #1,""
1420 PRINT #1,M$
1430 CAPS=INP(10) AND 128
1440 'IF CAPS=0 THEN PRINT ELSE INPUT DUMMY$
1450 RETURN
1460 '
1470 *OPW0
1480 INPUT #1,A$,D$
1490 A=VAL("&H"+A$):D=VAL("&H"+D$)
1500 OUT AD0,A:OUT DT0,D
1510 PRINT #1,"o"+RIGHT$("0"+HEX$(A),2)+":"+RIGHT$("0"+HEX$(D),2)+" ";
1520 RETURN
1530 '
1540 *OPR0
1550 INPUT #1,A$
1560 A=VAL("&H"+A$)
1570 OUT AD0,A:D=INP(DT0)
1580 PRINT #1,"i"+RIGHT$("0"+HEX$(A),2)+":"+RIGHT$("0"+HEX$(D),2)+" ";
1590 RETURN
1600 '
1610 *OPS0
1620 S=INP(AD10
1630 PRINT #1,"s"+RIGHT$("0"+HEX$(S),2)+"    ";
1640 RETURN
1650 '
1660 *WRM
1670 INPUT #1,D$
1680 D=VAL("&H"+D$)
1690 INPUT #1,R
1700 FOR I=1 TO R
1710   OUT AD1,&H8:OUT DT1,D
1720   'GOSUB *W
1730   S1=INP(AD1)
1740   OUT AD1,&H10:OUT DT1,&H80
1750   PRINT #1,"W"+RIGHT$("0"+HEX$(D),2)+":"+RIGHT$("0"+HEX$(S1),2);
1760   PRINT #1," ";
1770   D=D+1
1780 NEXT
1790 RETURN
1800 '
1810 *RDM
1820 INPUT #1,R
1830 FOR I=1 TO R
1840   OUT AD1,&H8:D=INP(DT1)
1850   'GOSUB *W
1860   S1=INP(AD1)
1870   OUT AD1,&H10:OUT DT1,&H80
1880   PRINT #1,"R"+RIGHT$("0"+HEX$(D),2)+":"+RIGHT$("0"+HEX$(S1),2);
1890   PRINT #1," ";
1900 NEXT
1910 RETURN
1920 '
1930 *W
1940 FOR WWW=0 TO 3: NEXT: RETURN
